<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta name="author" content="">
<meta name="description" content="">
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> 숙소 상세 </title>

<!-- 태기파이 추가 -->
<script th:src="@{/js/jquery-3.6.0.js}"></script>

<!-- tagify 라이브러리 -->
<script th:src="@{/js/tagify/tagify.min.js}"></script>
<!-- 폴리필 (구버젼 브라우저 지원) -->
<script th:src="@{/js/tagify/tagify.polyfills.min.js}"></script>
<!-- tagify CSS -->
<link th:href="@{/js/tagify/tagify.css}" rel="stylesheet" type="text/css">

<style>
  .tagify{    
	width: 100%;
	max-width: 700px;
  }
   
  .tags-look .tagify__dropdown__item{
	display: inline-block;
	border-radius: 3px;
	padding: .3em .5em;
	border: 1px solid #CCC;
	background: #F3F3F3;
	margin: .2em;
	font-size: .85em;
	color: black;
	transition: 0s;
  }
   
  .tags-look .tagify__dropdown__item--active{
	color: black;
  }
   
  .tags-look .tagify__dropdown__item:hover{
	background: lightyellow;
	border-color: gold;
  }
  </style>
  
  <script>
  let tagify = null;
  
  $(document).ready(function() {
	let input = document.querySelector('input[name="tags"]');
  
	//init Tagify script on the above inputs
	tagify = new Tagify(input, {
	  whitelist: [], // 화이트리스트 배열
	  maxTags: 5, // 최대 허용 태그 갯수
	
	  dropdown: {
		maxItems: 20,           // 드롭다운 메뉴에서 몇개 정도 항목을 보여줄지
		classname: "tags-look", // 드롭다운 메뉴 엘리먼트 클래스 이름. 이걸로 css 선택자로 쓰면 된다.
		enabled: 0,             // 단어 몇글자 입력했을떄 추천 드롭다운 메뉴가 나타날지
		closeOnSelect: false    // 드롭다운 메뉴에서 태그 선택하면 자동으로 꺼지는지 안꺼지는지
	  }
	});
	
	//태그 입력란에 키 입력 이벤트 처리
	tagify.on('input', onInput);
  
	$('#bt').click(function() {
	  let inputTags = $('#tags').val();
	  alert(JSON.stringify(tagify.value));
	  console.log(inputTags);
	});
	
	$('#bt2').click(function() {
	  $('#tags').val('벚꽃,한옥');
	});
  
  });
  
  //태그 입력란에 입력되고 있을 때
  function onInput(e){
	  console.log("onInput: ", e.detail);
	  
	  //입력되고 있는 문자열
	  let value = e.detail.value;
	  //제시 목록 초기화
	  tagify.whitelist = null;
	  tagify.loading(true).dropdown.hide()
	  
	  $.ajax({
		url: 'getTagifyList',
		method: 'get',
		data: {value: value},
		dataType: 'json',					// 여기 만짐
		success: function(list) {
		  // alert(list);
		  tagify.whitelist = list;
		  tagify.loading(false).dropdown.show(value);
		},
		error: function(e) {
		  alert(JSON.stringify(e));
		}
	  });
  }
  
  function formSubmit() {
      let tagsObject = tagify.value;
      console.log(tagsObject);
      
      let tagsString = '';

      $.each(tagsObject, function(i, ob) {
        console.log(i, ob.value);
        tagsString += ob.value + ',';
      });

      $('#tags').val(tagsString);
      return true;
    }

  </script>

<!-- Favicon -->
<link rel="shortcut icon" href="images/favicon.png">
<!-- Style CSS -->
<link rel="stylesheet" href="../css/stylesheet.css">
<link rel="stylesheet" href="../css/mmenu.css">
<link rel="stylesheet" href="../css/style.css" id="colors">
<!-- Google Font -->
<link
	href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,800&display=swap&subset=latin-ext,vietnamese"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700,800"
	rel="stylesheet" type="text/css">
<script>
function idcheck(){
	window.open('../member/idcheck','win','top=100,left=500,width=400,height=400');
}
function nickname_check(){
	window.open('../member/nickname_check','win','top=100,left=500,width=400,height=400');
}
function email_check(){
	window.open('../member/email_check','win','top=100,left=500,width=400,height=400');
}

function pagingFormSubmit(currentPage) {
	alert(123);
	var form = document.getElementById('pagingForm');
	var page = document.getElementById('page');
	page.value = currentPage;
	
	form.submit();
}

function validation() {
	let mem_id = $('#mem_id').val();
	let mem_password = $('#mem_password').val();
	let mem_nickname = $('#mem_nickname').val();
	let mem_phone = $('#mem_phone').val();

	if (mem_id.length < 3 || mem_id.length > 10) {
		alert("ID는 3~10자로 입력하세요.");
		return false;
	}
	if (mem_password.length < 3 || mem_password.length > 10) {
		alert("비밀번호는 3~10자로 입력하세요.");
		return false;
	}
	if ( mem_nickname == '') {
		alert("이름을 입력하세요.");
		return false;
	}
	if (mem_phone == '') {
		alert("전화번호를 입력하세요.");
		return false;
	}

	let mem_address1 = $('#mem_address1').val();
	let mem_address2 = $('#mem_address2').val()

	if (mem_address1 == '') {
		alert("주소를 입력하세요.");
		return false;
	}
		
	document.getElementById('mem_address').value = mem_address1 + ' ' + mem_address2;

	return true;
	}
function pagingFormSubmit(currentPage) {

	var form = document.getElementById('pagingForm');
	var page = document.getElementById('page');
	page.value = currentPage;
	form.submit();
}

	
</script>

<link href="
https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css
" rel="stylesheet">
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script>
   function check() {
      
   
     let res_check = $('#res_check').val();
     let res_check2 = $('#user_msg').val();
     
      if(res_check==null){
         Swal.fire({
             icon: 'error',
             title: '숙소 이용 완료 고객만 리뷰 작성이 가능합니다.',
             confirmButtonText: '확인'})
             
       return false;
     }
      
     
     
     return true;}
   
   function check2(){
       let res_check2 = $('#res_check2').val();
       let res_pet = $('#res_pet').val();
       let res_parking = $('#res_parking').val();
       let res_resdate = $('#res_resdate').val();
       if(res_check2!=null ){
          Swal.fire({
                icon: 'error',
                title: '예약된 숙소가 있을시 다른곳 예약이 불가능 합니다',
                confirmButtonText: '확인'})
          
          return false;
        }
       if(res_resdate==""){
          Swal.fire({
                icon: 'error',
                title: '날짜를 설정해 주세요',
                confirmButtonText: '확인'})
          return false;
        }
       if(res_pet==null || res_pet==""){
          Swal.fire({
                icon: 'error',
                title: '애완동물 동행 여부를 선택해 주세요',
                confirmButtonText: '확인'})
          return false;
        }
       if(res_parking==null || res_parking==""){
          Swal.fire({
                icon: 'error',
                title: '주차장 사용 여부를 정해주세요',
                confirmButtonText: '확인'})

          return false;
        }
       
      
   }
   
</script>



<!--
<script>
	function check() {
	   
	
	  let res_check = $('#res_check').val();
	  let res_check2 = $('#user_msg').val();
	  
	   if(res_check==null){
		 alert("숙소 이용 완료 고객만 리뷰 작성이 가능합니다.");
		 return false;
	  }
	   
	  
	  
	  return true;}
	
	function check2(){
		 let res_check2 = $('#res_check2').val();
		 let res_pet = $('#res_pet').val();
		 let res_parking = $('#res_parking').val();
		 let res_resdate = $('#res_resdate').val();
		 if(res_check2!=null ){
			 alert("예약된 숙소가 있을시 다른곳 예약이 불가능 합니다.");
			 return false;
		  }
		 if(res_resdate==""){
			 alert("날짜를 설정해 주세요");
			 return false;
		  }
		 if(res_pet==null || res_pet==""){
			 alert("애완동물 동행 여부를 선택해 주세요");
			 return false;
		  }
		 if(res_parking==null || res_parking==""){
			 alert("주차장 사용 여부를 정해주세요");
			 return false;
		  }
		 
		
	}
   
   </script>

<!-- <script>
 function check() {
	let res_num = $('#res_num').val();
 	let res_state= $('#res_state').val(); */

	if (res_num==false) {
		alert("숙소 이용 고객만 리뷰 작성이 가능합니다.");
		return false;
	}
	
 	if(res_state!=3){
		alert("숙소 이용 완료 고객만 리뷰 작성이 가능합니다.");
		return false;
	}
	 
	
	return true;
 
</script> -->


<style>
	#ka_category {position:absolute;top:10px;left:10px;border-radius: 5px; border:1px solid #909090;box-shadow: 0 1px 1px rgba(0, 0, 0, 0.4);background: #fff;overflow: hidden;z-index: 2;}
	#ka_category li {float:left;list-style: none;width:50px;px;border-right:1px solid #acacac;padding:6px 0;text-align: center; cursor: pointer;}
	#ka_category li.on {background: #eee;}
	#ka_category li:hover {background: #ffe6e6;border-left:1px solid #acacac;margin-left: -1px;}
	#ka_category li:last-child{margin-right:0;border-right:0;}
	#ka_category li span {display: block;margin:0 auto 3px;width:27px;height: 28px;}
	#ka_category li .category_bg {background:url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png) no-repeat;}
	#ka_category li .bank {background-position: -10px 0;}
	#ka_category li .mart {background-position: -10px -36px;}
	#ka_category li .pharmacy {background-position: -10px -72px;}
	#ka_category li .oil {background-position: -10px -108px;}
	#ka_category li .cafe {background-position: -10px -144px;}
	#ka_category li .store {background-position: -10px -180px;}
	#ka_category li.on .category_bg {background-position-x:-46px;}
	.placeinfo_wrap {position:absolute;bottom:28px;left:-150px;width:300px;}
	.placeinfo {position:relative;width:100%;border-radius:6px;border: 1px solid #ccc;border-bottom:2px solid #ddd;padding-bottom: 10px;background: #fff;}
	.placeinfo:nth-of-type(n) {border:0; box-shadow:0px 1px 2px #888;}
	.placeinfo_wrap .after {content:'';position:relative;margin-left:-12px;left:50%;width:22px;height:12px;background:url('https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/vertex_white.png')}
	.placeinfo a, .placeinfo a:hover, .placeinfo a:active{color:#fff;text-decoration: none;}
	.placeinfo a, .placeinfo span {display: block;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;}
	.placeinfo span {margin:5px 5px 0 5px;cursor: default;font-size:13px;}
	.placeinfo .title {font-weight: bold; font-size:14px;border-radius: 6px 6px 0 0;margin: -1px -1px 0 -1px;padding:10px; color: #fff;background: #d95050;background: #d95050 url(https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/arrow_white.png) no-repeat right 14px center;}
	.placeinfo .tel {color:#0f7833;}
	.placeinfo .jibun {color:#999;font-size:11px;margin-top:0;}
</style>

</head>
<!-- 확인용 (바꿀 거) -->
<body>
<div>
	<div th:if="${res}">
		<input type="hidden" id=res_check th:value="${res}"> 
	</div>
</div>
<div>
	<div th:if="${res2}">
		<input type="hidden" id=res_check2 th:value="${res2}"> 
	</div>
</div>

<!-- Preloader Start -->
<div class="preloader">
    <div class="utf-preloader">
        <span></span>
        <span></span>
        <span></span>
    </div>
</div>
<!-- Preloader End -->

<!-- Wrapper -->
<div id="main_wrapper">
		<!-- Start : header -->
      <header id="header_part" class="fullwidth">
         <div id="header">
            <div id="header_container" class="container">

               <div class="utf_left_side">

                  <div id="logo">
                     <a th:href="@{/}">PickPick</a>
                  </div>


                  <div class="mmenu-trigger">
                     <button class="hamburger utfbutton_collapse" type="button">
                        <span class="utf_inner_button_box"> <span
                           class="utf_inner_section"></span>
                        </span>
                     </button>
                  </div>

                  <div class="clearfix"></div>
               </div>


               <div class="utf_right_side">
                  <div class="header_widget">

                     <!-- sign in -->
                     <a sec:authorize="not isAuthenticated()"
                        href="#dialog_signin_part"
                        class="button border sign-in popup-with-zoom-anim"> <i
                        class="fa fa-sign-in"></i> Sign In
                     </a>
                     
                     <div class="utf_user_menu" sec:authorize="isAuthenticated()">
                        <div class="utf_user_name">
                           <span><img src="../images/user_user_user.png" alt=""></span>
                        </div>
                        <ul sec:authorize="hasRole('ROLE_HOST')">
                           <li><a th:href="@{/member/check}"><i
                                 class="sl sl-icon-layers"></i>회원정보 수정</a></li>
                           <li><a th:href="@{/member/profile}"><i
                                 class="sl sl-icon-user"></i>회원 정보 확인</a></li>
                           <li><a th:href="@{/sukso/insertsukso}"><i 
                                  class="sl sl-icon-docs"></i>숙소등록</a></li>
                           <li><a th:href="@{/msg/checkMSG}"><i
                                 class="sl sl-icon-envelope-open"></i>메세지</a></li>
                           <li><a th:href="@{/book/bookcheck2}"><i
                                 class="sl sl-icon-docs"></i>예약확인</a></li>      
                           <li><a th:href="@{/member/logout}"><i
                                 class="sl sl-icon-power"></i>로그아웃</a></li>
                        </ul>
                  <ul sec:authorize="hasRole('ROLE_USER')">
                           <li><a th:href="@{/member/check}"><i
                                 class="sl sl-icon-layers"></i>회원정보 수정</a></li>
                           <li><a th:href="@{/member/profile}"><i
                                 class="sl sl-icon-user"></i>회원 정보 확인</a></li>
                           <li><a th:href="@{/msg/checkMSG}"><i
                                 class="sl sl-icon-envelope-open"></i>메세지</a></li>
                           <li><a th:href="@{/book/bookcheck}"><i
                                 class="sl sl-icon-docs"></i>예약확인</a></li>
                           <li><a th:href="@{/member/logout}"><i
                                 class="sl sl-icon-power"></i>로그아웃</a></li>
                        </ul>
                     </div>


                  </div>
               </div>





               <div id="dialog_signin_part" class="zoom-anim-dialog mfp-hide">
                  <div class="small_dialog_header">
                     <h3>Sign In</h3>
                  </div>
                  <div class="utf_signin_form style_one">
                     <ul class="utf_tabs_nav">
                        <li class=""><a href="#tab1">Log In</a></li>
                        <li><a href="#tab2">Register</a></li>
                     </ul>

                     <div class="tab_container alt">
                        <div class="tab_content" id="tab1" style="display: none;">
                           <form method="post" class="login" th:action="@{/member/login}"
                              id="loginForm">
                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="username"> <input type="text"
                                    class="input-text" name="mem_id" value=""
                                    placeholder="Username" />
                                 </label>
                              </p>
                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="password"> <input class="input-text"
                                    type="password" name="mem_password" placeholder="Password" />
                                 </label>
                              </p>
                              <div class="utf_row_form utf_form_wide_block form_forgot_part">
                                 <span class="lost_password fl_left"> <a
                                    href="javascript:void(0);">Forgot Password?</a>
                                 </span>
                                 <div class="checkboxes fl_right">
                                    <input id="remember-me" type="checkbox" name="check">
                                    <label for="remember-me">Remember Me</label>
                                 </div>
                              </div>
                              <div class="utf_row_form">
                                 <input type="submit" class="button border margin-top-5"
                                    name="login" value="Login" />
                              </div>
                           </form>
                        </div>





                        <div class="tab_content" id="tab2" style="display: none;">
                           <form method="post" class="register"
                              th:action="@{/member/join}" onsubmit="return validation();">
                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="ID"> <input type="text"
                                    class="input-text" name="mem_id" id="mem_id"
                                    readonly="readonly" placeholder="ID중복확인 이용 ↓" /> <input
                                    type="button" value="ID중복확인" onclick="idcheck()">
                                 </label>
                              </p>

                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="password1"> <input class="input-text"
                                    type="password" name="mem_password" id="mem_password"
                                    placeholder="Password" />
                                 </label>
                              </p>

                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="email2"> <input type="text"
                                    class="input-text" name="mem_email" id="mem_email"
                                    placeholder="Email" readonly="readonly" /> <input
                                    type="button" value="이메일 중복확인" onclick="email_check()">
                                 </label>
                              </p>

                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="nickname"> <input type="text"
                                    class="input-text" name="mem_nickname" id="mem_nickname"
                                    value="" placeholder="닉네임 중복확인 이용 ↓" readonly="readonly" />
                                    <input type="button" value="닉네임 중복확인"
                                    onclick="nickname_check()">
                                 </label>
                              </p>

                              <!-- 전화번호, 주소, 성별, role -->
                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="phoneNumber"> <input type="text"
                                    class="input-text" name="mem_phone" id="mem_phone" value=""
                                    placeholder="전화번호" />
                                 </label>
                              </p>
                              <br>
                              <p class="utf_row_form utf_form_wide_block">

                                 <label for="address"> <input type="text"
                                    class="input-text" id="mem_address1" value=""
                                    placeholder="주소" readonly="readonly" />
                                 </label> <label for="address"> <input type="text"
                                    class="input-text" id="mem_address2" value=""
                                    placeholder="상세 주소" />
                                 </label> <input type="hidden" id="mem_address" name="mem_address">
                                 <input type="button" onclick="sample2_execDaumPostcode()"
                                    value="주소찾기">


                                 <script
                                    src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
                              <div id="layer"
                                 style="display: none; position: fixed; overflow: hidden; z-index: 1; -webkit-overflow-scrolling: touch;">
                                 <img
                                    src="//t1.daumcdn.net/postcode/resource/images/close.png"
                                    id="btnCloseLayer"
                                    style="cursor: pointer; position: absolute; right: -3px; top: -3px; z-index: 1"
                                    onclick="closeDaumPostcode()" alt="닫기 버튼">
                              </div>

                              <script>
    // 우편번호 찾기 화면을 넣을 element
    var element_layer = document.getElementById('layer');

    function closeDaumPostcode() {
        // iframe을 넣은 element를 안보이게 한다.
        element_layer.style.display = 'none';
    }

    function sample2_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                // 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수
                var extraAddr = ''; // 참고항목 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

              

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
          
                document.getElementById("mem_address1").value = addr;
                
               
                
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("mem_address2").focus();
                
                
                

                // iframe을 넣은 element를 안보이게 한다.
                // (autoClose:false 기능을 이용한다면, 아래 코드를 제거해야 화면에서 사라지지 않는다.)
                element_layer.style.display = 'none';
            },
            width : '100%',
            height : '100%',
            maxSuggestItems : 5
        }).embed(element_layer);

        // iframe을 넣은 element를 보이게 한다.
        element_layer.style.display = 'block';

        // iframe을 넣은 element의 위치를 화면의 가운데로 이동시킨다.
        initLayerPosition();
    }

    // 브라우저의 크기 변경에 따라 레이어를 가운데로 이동시키고자 하실때에는
    // resize이벤트나, orientationchange이벤트를 이용하여 값이 변경될때마다 아래 함수를 실행 시켜 주시거나,
    // 직접 element_layer의 top,left값을 수정해 주시면 됩니다.
    function initLayerPosition(){
        var width = 400; //우편번호서비스가 들어갈 element의 width
        var height = 400; //우편번호서비스가 들어갈 element의 height
        var borderWidth = 5; //샘플에서 사용하는 border의 두께

        // 위에서 선언한 값들을 실제 element에 넣는다.
        element_layer.style.width = width + 'px';
        element_layer.style.height = height + 'px';
        element_layer.style.border = borderWidth + 'px solid';
        // 실행되는 순간의 화면 너비와 높이 값을 가져와서 중앙에 뜰 수 있도록 위치를 계산한다.
        element_layer.style.left = (((window.innerWidth || document.documentElement.clientWidth) - width)/2 - borderWidth) + 'px';
        element_layer.style.top = (((window.innerHeight || document.documentElement.clientHeight) - height)/2 - borderWidth) + 'px';
    } 
</script>

                              </p>




                              <br>

                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="sex"> <select name="mem_gender">
                                       <option value="">GENDER</option>
                                       <option value='MALE' th:selected="${mem_gender == 'MALE'}">MALE♂</option>
                                       <option value='FEMALE'
                                          th:selected="${mem_gender == 'FEMALE'}">FEMALE♀</option>

                                 </select>
                                 </label>
                              </p>

                              <p class="utf_row_form utf_form_wide_block">
                                 <label for="mem_role"> <select name="mem_role"
                                    id="role">
                                       <option value="">HOST or USER</option>
                                       <option value="ROLE_HOST"
                                          th:selected="${mem_role == 'ROLE_HOST'}">HOST</option>
                                       <option value="ROLE_USER"
                                          th:selected="${mem_role == 'ROLE_USER'}">USER</option>
                                 </select>
                                 </label>
                              </p>

                              <input type="submit" class="button border fw margin-top-10"
                                 name="register" value="Register" />
                           </form>
                        </div>
                     </div>
                  </div>
               </div>

            </div>
            <!-- end : .header div-->
         </div>
         <!-- end : header div-->
      </header>
      <!-- end : header -->
  <div class="clearfix"></div>
		<div id="utf_listing_gallery_part" class="utf_listing_section">
			<div class="utf_listing_slider utf_gallery_container margin-bottom-0"  >
				<a th:href="@{/sukso/download(num=${sukso.suk_num})}" th:data-background-image="@{/sukso/download(num=${sukso.suk_num})}" class="item utf_gallery"></a> 
					<th:block th:each="files:${files}">
					<a th:href="@{/sukso/files/download(num=${files.suk_files_num})}" th:data-background-image="@{/sukso/files/download(num=${files.suk_files_num})}" class="item utf_gallery"></a>  
					</th:block>
			</div>
		</div>
  <div class="container">
			<div class="row utf_sticky_main_wrapper">
				<div class="col-lg-8 col-md-8">
					<div id="titlebar" class="utf_listing_titlebar">
						<div class="utf_listing_titlebar_title" style="padding-bottom: 60px;">
							<h2>
								<span class="listing-tag" th:text="${sukso.suk_name}">Apartment</span>
							</h2>
							<span> <a href="#utf_listing_location"
								class="listing-address"> <i class="sl sl-icon-location"></i>
									<b th:text="${sukso.suk_address}"></b>
							</a>
							</span> <span class="call_now"><i class="sl sl-icon-phone"></i> <b
								th:text="${sukso.suk_name}"></b></span>
							<div class="utf_star_rating_section" th:data-rating="${sum.sum_avg}">
								<div class="utf_counter_star_rating" th:text="|평점 : ${sum.sum_avg} , 리뷰수 : ${sum.avg_count}|" ></div>
							</div>
			<div class="utf_room_detail" style="text-align: left;">
            <span style="font-weight: bold; color: burlywood;"> 태그 </span>
			<ul th:each="intag : ${intagListBySuk_Id}">
				<li><span th:text="${intag.name}"></span></li>
				<!-- <li>3 Bed Room</li>
				<li>4 Bed</li>
				<li>3 Bath Room</li>
				<li>안녕</li> -->
			</ul>
		  </div>
          </div>
        </div>
        <div id="utf_listing_overview" class="utf_listing_section">
          <h3 class="utf_listing_headline_part margin-top-30 margin-bottom-30"> Notice </h3>
		  <p th:text="${sukso_spec.suk_notice}"></p>
        </div>
       <!--
		<div th:each="intag : ${intagListBySuk_Id}">
			<div th:text="${intag.name}"></div>
		  </div>
		-->  
      <!--
         <div id="utf_listing_amenities" class="utf_listing_section">
          <h3 class="utf_listing_headline_part margin-top-50 margin-bottom-40">Features</h3>
          <ul class="utf_listing_features checkboxes margin-top-0">
            <li>Air Conditioned</li>
            <li>Swimming Pool</li>
            <li>Room Service</li>
            <li>Luxury Bedding</li>
            <li>Free Wifi</li>
            <li>Bath Towel</li>
			<li>Wireless Internet</li>
            <li>Free Parking on premises</li>
            <li>Free Parking on Street</li>
            <li>Live Music</li>            
            <li>Indoor Pool</li>            
          </ul>
        </div>
      -->
      <div id="utf_listing_amenities" class="utf_listing_section">
         <h3
            class="utf_listing_headline_part margin-top-50 margin-bottom-40">Features</h3>
         <ul class="utf_listing_features checkboxes margin-top-0">
            <li>침대갯수 : <span th:text="${sukso_spec.suk_bed}"></span></li>
            <li>화장실숫자 : <span th:text="${sukso_spec.suk_restroom}"></span></li>
            <li th:if="${sukso_spec.suk_parking==1}">주차가능</li>
            <li th:if="${sukso_spec.suk_parking==0}">주차불가</li>
            <li th:if="${sukso_spec.suk_kitchin==1}">취사가능</li>
            <li th:if="${sukso_spec.suk_kitchin==0}">취사불가</li>
            <li th:if="${sukso_spec.suk_bbq==1}">BBQ가능</li>
            <li th:if="${sukso_spec.suk_bbq==0}">BBQ불가</li>
            <li th:if="${sukso_spec.suk_cctv==1}">CCTV유</li>
            <li th:if="${sukso_spec.suk_cctv==0}">CCTV무</li>
            <li th:if="${sukso_spec.suk_pet==1}">애완동물 동반</li>
            <li th:if="${sukso_spec.suk_pet==0}">애완동물 금지</li>
            <li>층수 : <span th:text="${sukso_spec.suk_floor}"></span></li>
            <li th:if="${sukso_spec.suk_elev==1}">엘레베이터O</li>
            <li th:if="${sukso_spec.suk_elev==0}">엘레베이터X</li>
            <li th:if="${sukso_spec.suk_wifi==1}">FreeWifi</li>
            <li th:if="${sukso_spec.suk_wifi==0}">NoWifi</li>
            <li th:if="${sukso_spec.suk_laundary==1}">세탁가능</li>
            <li th:if="${sukso_spec.suk_laundary==0}">세탁불가</li>
         </ul>
      </div>
		
        
       	<div id="utf_listing_location" class="utf_listing_section">
						<h3
							class="utf_listing_headline_part margin-top-60 margin-bottom-40">Location</h3>

						<div id="utf_single_listing_map_block">
		<body onload="ka_execDaumPostcode()">						
<input type="hidden"  id="suk_address" th:value="${sukso.suk_address}">
 <input type="hidden" id="x" name="x">				
<div id="map" style="position:relative;overflow:hidden;">

    <input type="hidden" id="y" name="y">
<ul id="ka_category">
        <li id="BK9" data-order="0"> 
            <span class="category_bg bank"></span>
            은행
        </li>       
        <li id="MT1" data-order="1"> 
            <span class="category_bg mart"></span>
            마트
        </li>  
        <li id="PM9" data-order="2"> 
            <span class="category_bg pharmacy"></span>
            약국
        </li>  
        <li id="OL7" data-order="3"> 
            <span class="category_bg oil"></span>
            주유소
        </li>  
        <li id="CE7" data-order="4"> 
            <span class="category_bg cafe"></span>
            카페
        </li>  
        <li id="CS2" data-order="5"> 
            <span class="category_bg store"></span>
            편의점
        </li>              
    </ul>

   </div>
   </body>
</div>
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=16f9cd8afa5170203e0604da861a571c&libraries=services"></script>
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

<script>
var placeOverlay = new kakao.maps.CustomOverlay({zIndex:1}), 
contentNode = document.createElement('div'), // 커스텀 오버레이의 컨텐츠 엘리먼트 입니다 
markers = [], // 마커를 담을 배열입니다
currCategory = '';

var mapContainer = document.getElementById('map'), // 지도를 표시할 div
addrInput = document.getElementById('suk_address'); // 주소를 입력받을 hidden input

//주소-좌표 변환 객체를 생성
var geocoder = new daum.maps.services.Geocoder();

//초기 지도 중심 좌표
var initLatLng = new daum.maps.LatLng(37.537187, 127.005476);

//지도를 미리 생성
var map = new daum.maps.Map(mapContainer, {
center: initLatLng,
level: 5
});

//마커를 생성하고 지도에 추가
var marker = new daum.maps.Marker({
position: initLatLng,
map: map
});
var ps = new kakao.maps.services.Places(map); 

//지도에 idle 이벤트를 등록합니다
kakao.maps.event.addListener(map, 'idle', searchPlaces);

//커스텀 오버레이의 컨텐츠 노드에 css class를 추가합니다 
contentNode.className = 'placeinfo_wrap';

//커스텀 오버레이의 컨텐츠 노드에 mousedown, touchstart 이벤트가 발생했을때
//지도 객체에 이벤트가 전달되지 않도록 이벤트 핸들러로 kakao.maps.event.preventMap 메소드를 등록합니다 
addEventHandle(contentNode, 'mousedown', kakao.maps.event.preventMap);
addEventHandle(contentNode, 'touchstart', kakao.maps.event.preventMap);

//커스텀 오버레이 컨텐츠를 설정합니다
placeOverlay.setContent(contentNode);  

//각 카테고리에 클릭 이벤트를 등록합니다
addCategoryClickEvent();

//엘리먼트에 이벤트 핸들러를 등록하는 함수입니다
function addEventHandle(target, type, callback) {
 if (target.addEventListener) {
     target.addEventListener(type, callback);
 } else {
     target.attachEvent('on' + type, callback);
 }
}

//카테고리 검색을 요청하는 함수입니다
function searchPlaces() {
 if (!currCategory) {
     return;
 }
 
 // 커스텀 오버레이를 숨깁니다 
 placeOverlay.setMap(null);

 // 지도에 표시되고 있는 마커를 제거합니다
 removeMarker();
 
 ps.categorySearch(currCategory, placesSearchCB, {useMapBounds:true}); 
}

//장소검색이 완료됐을 때 호출되는 콜백함수 입니다
function placesSearchCB(data, status, pagination) {
 if (status === kakao.maps.services.Status.OK) {

     // 정상적으로 검색이 완료됐으면 지도에 마커를 표출합니다
     displayPlaces(data);
 } else if (status === kakao.maps.services.Status.ZERO_RESULT) {
     // 검색결과가 없는경우 해야할 처리가 있다면 이곳에 작성해 주세요

 } else if (status === kakao.maps.services.Status.ERROR) {
     // 에러로 인해 검색결과가 나오지 않은 경우 해야할 처리가 있다면 이곳에 작성해 주세요
     
 }
}

//지도에 마커를 표출하는 함수입니다
function displayPlaces(places) {

 // 몇번째 카테고리가 선택되어 있는지 얻어옵니다
 // 이 순서는 스프라이트 이미지에서의 위치를 계산하는데 사용됩니다
 var order = document.getElementById(currCategory).getAttribute('data-order');

 

 for ( var i=0; i<places.length; i++ ) {

         // 마커를 생성하고 지도에 표시합니다
         var marker = addMarker(new kakao.maps.LatLng(places[i].y, places[i].x), order);

         // 마커와 검색결과 항목을 클릭 했을 때
         // 장소정보를 표출하도록 클릭 이벤트를 등록합니다
         (function(marker, place) {
             kakao.maps.event.addListener(marker, 'click', function() {
                 displayPlaceInfo(place);
             });
         })(marker, places[i]);
 }
}

//마커를 생성하고 지도 위에 마커를 표시하는 함수입니다
function addMarker(position, order) {
 var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/places_category.png', // 마커 이미지 url, 스프라이트 이미지를 씁니다
     imageSize = new kakao.maps.Size(27, 28),  // 마커 이미지의 크기
     imgOptions =  {
         spriteSize : new kakao.maps.Size(72, 208), // 스프라이트 이미지의 크기
         spriteOrigin : new kakao.maps.Point(46, (order*36)), // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표
         offset: new kakao.maps.Point(11, 28) // 마커 좌표에 일치시킬 이미지 내에서의 좌표
     },
     markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),
         marker = new kakao.maps.Marker({
         position: position, // 마커의 위치
         image: markerImage 
     });

 marker.setMap(map); // 지도 위에 마커를 표출합니다
 markers.push(marker);  // 배열에 생성된 마커를 추가합니다

 return marker;
}

//지도 위에 표시되고 있는 마커를 모두 제거합니다
function removeMarker() {
 for ( var i = 0; i < markers.length; i++ ) {
     markers[i].setMap(null);
 }   
 markers = [];
}

//클릭한 마커에 대한 장소 상세정보를 커스텀 오버레이로 표시하는 함수입니다
function displayPlaceInfo (place) {
 var content = '<div class="placeinfo">' +
                 '   <a class="title" href="' + place.place_url + '" target="_blank" title="' + place.place_name + '">' + place.place_name + '</a>';   

 if (place.road_address_name) {
     content += '    <span title="' + place.road_address_name + '">' + place.road_address_name + '</span>' +
                 '  <span class="jibun" title="' + place.address_name + '">(지번 : ' + place.address_name + ')</span>';
 }  else {
     content += '    <span title="' + place.address_name + '">' + place.address_name + '</span>';
 }                

 content += '    <span class="tel">' + place.phone + '</span>' + 
             '</div>' + 
             '<div class="after"></div>';

 contentNode.innerHTML = content;
 placeOverlay.setPosition(new kakao.maps.LatLng(place.y, place.x));
 placeOverlay.setMap(map);  
}


//각 카테고리에 클릭 이벤트를 등록합니다
function addCategoryClickEvent() {
 var category = document.getElementById('ka_category'),
     children = category.children;

 for (var i=0; i<children.length; i++) {
     children[i].onclick = onClickCategory;
 }
}

//카테고리를 클릭했을 때 호출되는 함수입니다
function onClickCategory() {
 var id = this.id,
     className = this.className;

 placeOverlay.setMap(null);

 if (className === 'on') {
     currCategory = '';
     changeCategoryClass();
     removeMarker();
 } else {
     currCategory = id;
     changeCategoryClass(this);
     searchPlaces();
 }
}

//클릭된 카테고리에만 클릭된 스타일을 적용하는 함수입니다
function changeCategoryClass(el) {
 var category = document.getElementById('ka_category'),
     children = category.children,
     i;

 for ( i=0; i<children.length; i++ ) {
     children[i].className = '';
 }

 if (el) {
     el.className = 'on';
 } 
} 


function ka_execDaumPostcode() {
    // 현재 주소를 가져와서 좌표를 검색하기 위해
    // 입력 받을 hidden input 필드를 생성하여 값 할당
    var currentAddr = addrInput.value;
    if (currentAddr === '') {
        currentAddr = '서울특별시 강남구 테헤란로 152';
    }

    // 주소로 좌표를 검색
    geocoder.addressSearch(currentAddr, function(results, status) {
        if (status === daum.maps.services.Status.OK) {
            // 검색 결과가 있으면 첫번째 결과를 사용
            var result = results[0];
            var coords = new daum.maps.LatLng(result.y, result.x);

            // 지도를 해당 좌표로 이동
            map.setCenter(coords);
            marker.setPosition(coords);

            // 주소와 좌표 값을 hidden input 필드에 업데이트
            addrInput.value = result.address;
            document.getElementById("x").value = result.x;
            document.getElementById("y").value = result.y;

            // 지도를 보여주기 위해 display 속성 변경
            mapContainer.style.display = 'block';
        } else {
            alert('주소 검색 실패: ' + status);
        }
    });
}
	
</script>						
					</div>
        <div id="utf_listing_reviews" class="utf_listing_section">
          <h3 class="utf_listing_headline_part margin-top-75 margin-bottom-20">Reviews <span th:text="|(${sum.avg_count})|"></span></h3>
          <div class="clearfix"></div>
		  <div class="reviews-container">
			<div class="row">
				<div class="col-lg-12">
					<div id="review_summary">
						<div th:text="${sum.sum_avg}" style="font-size : 30px;"></div>
			
					</div>
				</div>
			
			</div>
		  </div>
		  
		  <form id="pagingForm" method="get" th:action="@{/sukso/read}">
          <div class="comments utf_listing_reviews"
							th:each="review : ${review}">

							<ul>
								<li>

									<div class="avatar">
										<img th:src="@{/sukso/review/download(num=${review.rev_num})}" alt="" />
									</div>
									<div class="utf_comment_content">
										<div class="utf_arrow_comment"></div>
										<div class="utf_star_rating_section"
											th:data-rating="${review.rev_star_avg}"></div>
										<a href="#" class="rate-review">도움이 됐어요!<i
											class="fa fa-thumbs-up"></i></a>
										<div class="utf_by_comment">
											<b th:text="${review.mem_id}"></b> <span class="date"><i
												class="fa fa-clock-o"></i> <b th:text="${review.rev_date}"></b></span>
										</div>
										<p th:text="${review.rev_contents}"></p>
									</div>
								</li>
							</ul>

						</div>
        <div class="clearfix"></div>
						<div class="row">
							<div class="col-md-12">
								<div class="utf_pagination_container_part margin-top-30">
									<nav class="pagination">
										<ul>
											<li><a
												th:href="|javascript:pagingFormSubmit(${navi.currentPage - 1})|"><i
													class="sl sl-icon-arrow-left"></i></a></li>

											<li><span
												th:each="counter : ${#numbers.sequence(navi.startPageGroup, navi.endPageGroup)}">
													<th:block th:if="${counter == navi.currentPage}">
														<b>
													</th:block> <a th:text="${counter}"
													th:href="|javascript:pagingFormSubmit(${counter})|"></a> <th:block
														th:if="${counter == navi.currentPage}">
														</b>
													</th:block>
											</span></li>

											<li><a
												th:href="|javascript:pagingFormSubmit(${navi.currentPage + 1})|"><i
													class="sl sl-icon-arrow-right"></i></a></li>
										</ul>
									</nav>
								</div>
							</div>
							<input type="hidden" name="page" id="page">
							<input type="hidden" id=num name="num" th:value="${sukso.suk_num}">
				        
						</div>
						<div class="clearfix"></div>
					</div>
</form>
  <div class="errorMsg" th:if="${param.error}"><script>alert('예약일이 이미 존재합니다. 다른 날짜를 선택해주세요.')</script></div>


					<div id="utf_add_review" class="utf_add_review-box"
						sec:authorize="isAuthenticated()">
						<h3 class="utf_listing_headline_part margin-bottom-20">리뷰 작성</h3>
						<form id="utf_add_comment" class="utf_add_comment"
							th:action="@{/sukso/writeReview}" method="post"
							enctype="multipart/form-data" onsubmit="return check();">
							<div class="row">
								<input type="hidden" id="suk_num" name="suk_num" th:value="${sukso.suk_num}">
								<!-- <input type="hidden" id=res_num th:value="${res.res_num}"> -->
								<!-- <input type="hidden" id=res_state th:value="${res_state}"> -->


								
								<table style="margin-top:20px;">
									<tr>
									   <th>청결도</th>
									   <th>친절도</th>
									   <th>접근성</th>
									   <th>시설</th>
									</tr>
									<tr>
									   <td>
										  <div class="utf_leave_rating margin-bottom-30">
											 <input type="radio" name="rev_star_clean" id="rating-1" value=5 /> 
											 <label for="rating-1" class="fa fa-star"></label>
											 
											 <input type="radio" name="rev_star_clean" id="rating-2" value=4 /> 
											 <label for="rating-2" class="fa fa-star"></label>
											 
											 <input type="radio" name="rev_star_clean" id="rating-3" value=3 /> 
											 <label for="rating-3" class="fa fa-star"></label>
											 
											 <input type="radio" name="rev_star_clean" id="rating-4" value=2 /> 
											 <label for="rating-4" class="fa fa-star"></label>
											 
											 <input type="radio" name="rev_star_clean" id="rating-5" value=1 /> 
											 <label for="rating-5" class="fa fa-star"></label>
										  </div>
									   </td>
									   <td>
											<div class="utf_leave_rating margin-bottom-30">
												<input type="radio" name="rev_star_service" id="rating-6" value=5 /> <label for="rating-6" class="fa fa-star"></label>
												<input type="radio" name="rev_star_service" id="rating-7" value=4 /> <label for="rating-7" class="fa fa-star"></label>
												<input type="radio" name="rev_star_service" id="rating-8" value=3 /> <label for="rating-8" class="fa fa-star"></label>
												<input type="radio" name="rev_star_service" id="rating-9" value=2 /> <label for="rating-9" class="fa fa-star"></label>
												<input type="radio" name="rev_star_service" id="rating-10" value=1 /> <label for="rating-10" class="fa fa-star"></label>
											</div>
										</td>
										<td>
											<div class="utf_leave_rating margin-bottom-30">
												<input type="radio" name="rev_star_access" id="rating-11" value=5 /> <label for="rating-11" class="fa fa-star"></label>
												<input type="radio" name="rev_star_access" id="rating-12" value=4 /> <label for="rating-12" class="fa fa-star"></label>
												<input type="radio" name="rev_star_access" id="rating-13" value=3 /> <label for="rating-13" class="fa fa-star"></label>
												<input type="radio" name="rev_star_access" id="rating-14" value=2 /> <label for="rating-14" class="fa fa-star"></label>
												<input type="radio" name="rev_star_access" id="rating-15" value=1 /> <label for="rating-15" class="fa fa-star"></label>
											</div>
										</td>
										<td>
											<div class="utf_leave_rating margin-bottom-30">
												<input type="radio" name="rev_star_faci" id="rating-16" value=5 /> <label for="rating-16" class="fa fa-star"></label>
												<input type="radio" name="rev_star_faci" id="rating-17" value=4 /> <label for="rating-17" class="fa fa-star"></label>
												<input type="radio" name="rev_star_faci" id="rating-18" value=3 /> <label for="rating-18" class="fa fa-star"></label>
												<input type="radio" name="rev_star_faci" id="rating-19" value=2 /> <label for="rating-19" class="fa fa-star"></label>
												<input type="radio" name="rev_star_faci" id="rating-20" value=1 /> <label for="rating-20" class="fa fa-star"></label>
											</div>
										</td>
									</tr>
								 </table>

								<div class="col-md-6 col-sm-6 col-xs-12"></div>
								<div class="add-review-photos margin-bottom-30">

									<div class="photoUpload">
										<span>Upload Photo <i
											class="sl sl-icon-arrow-up-circle"></i></span> <input type="file"
											class="upload" name="upload" />
									</div>
								</div>
							</div>


							<fieldset>
								<div>
									<label>리뷰</label>
									<textarea cols="40" placeholder="" rows="3" name="rev_contents"
										id="rev_contents" required></textarea>
								</div>
							<div>
								<input name="tags" id="tags" placeholder="숙소를 설명하는 태그를 작성해주세요!(최대 5개)">
							</div>
							<br>
							</fieldset>
							<div class="clearfix"></div>
							<input type="submit" class="button" value="리뷰 등록">
						</form>
					</div>
				</div>

      
      
      
      
      
      
      
      <!-- Sidebar -->
      <form method="post" th:action="@{/book/insertRes}" onsubmit="return check2();">
      <div class="col-lg-4 col-md-4 margin-top-75 sidebar-search" >
      <div class="verified-badge with-tip margin-bottom-30"
						data-tip-content="Listing has been verified and belongs business owner or manager.">
						<i class="sl sl-icon-check"></i> Now Available
					</div>
        <div class="utf_box_widget booking_widget_box ">
          <h3><i class="fa fa-calendar"></i> Booking 
            <div class="price">
              <span><a id="priceper" th:text="${sukso.suk_price1}"></a>원<small>/인 당</small></span>
              <input type="hidden" name="suk_price" th:value="${sukso.suk_price1}">
            </div>
         </h3>
          
          <div class="row with-forms margin-top-0">
            <div class="col-lg-12 col-md-12 select_date_box">
              <input type="text" id="date-picker" placeholder="Select Date" readonly="readonly">
              <i class="fa fa-calendar"></i>
            </div>
            <input type="hidden" name="res_resdate" id="res_resdate" value="">
              <input type="hidden" name="res_outdate" id="res_outdate" value="">
          </div>
          <div class="row with-forms">
  <div class="col-lg-12">
    <div class="panel-dropdown">
      <a href="#">투숙객 <span class="qtyTotal" id="res_pop">1</span></a>
 
      <div class="panel-dropdown-content">
        <div class="qtyButtons">
          <div class="qtyTitle">투숙인원 수</div>
          <input type="number" min="1" name="qtyInput"  value="1" id="qtyInput">
        </div>
      </div>
    </div>
  </div>
</div>

          <div class="row with-forms margin-top-0">
            <div class="col-lg-12 col-md-12">
              <select id="res_pet" name="res_pet" class="utf_chosen_select_single">
                <option label="Select Room" value="">애완동물 동반</option>
                 <option value=0 th:selected="${res_pet==0}">yes</option>
                 <option value=1 th:selected="${res_pet==1}">no</option>
           
              </select>
            </div>
          </div>

          <div class="row with-forms margin-top-0">
            <div class="col-lg-12 col-md-12">
              <select id="res_parking" name="res_parking" class="utf_chosen_select_single">
                <option label="Select Room" value="">주차장 사용여부</option>
               <option value=0 th:selected="${res_parking==0}">사용</option>
                    <option value=1 th:selected="${res_parking==1}">사용안함</option>
              </select>
            </div>
          </div>

          <div class="row with-forms margin-top-0">
            <div class="col-lg-12 col-md-12">
              <textarea name="res_message" id="" cols="30" rows="10" placeholder="host에게 전할 말" style="height: 100px;"></textarea>
            </div>
          </div>
              <input type="hidden" name="suk_num" th:value="${sukso.suk_num}">
              <div sec:authorize="isAuthenticated()">
          <input type="submit" class="utf_progress_button button fullwidth_block margin-top-5" value="예약하기"></input>
               </div>
                <div sec:authorize=" not isAuthenticated()">
       <a>로그인 시 예약 가능</a>
               </div>
          <div class="clearfix"></div>
            
          
        </div>
        </form>

       <div class="utf_box_widget opening-hours review-avg-wrapper margin-top-35">
          <h3><i class="sl sl-icon-star"></i>  Rating Average </h3>
          <div class="box-inner">
			  <div class="rating-avg-wrapper text-theme clearfix">
				<div th:text="${sum.sum_avg}" class="rating-avg"></div>
				<div class="rating-after">
				  <div class="rating-mode">/5 Average</div>
				  
				</div>
			  </div>
						<div class="ratings-avg-wrapper">
							<div class="ratings-avg-item">
								<div class="rating-label">청결도</div>
								<div th:text="${sum.avg_clean}"class="rating-value text-theme"></div>
							</div>
							<div class="ratings-avg-item">
								<div class="rating-label">친절도</div>
								<div th:text="${sum.avg_service}" class="rating-value text-theme"></div>
							</div>
							<div class="ratings-avg-item">
								<div class="rating-label">접근성</div>
								<div th:text="${sum.avg_access}" class="rating-value text-theme"></div>
							</div>
							<div class="ratings-avg-item">
								<div class="rating-label">시설</div>
								<div th:text="${sum.avg_faci}" class="rating-value text-theme"></div>
							</div>
						</div>
					</div>
        </div>

        <div class="utf_box_widget margin-top-35">
          <h3><i class="sl sl-icon-phone"></i> Host Info</h3>
          <ul class="utf_listing_detail_sidebar">
			<li th:text="|호스트 : ${member.mem_nickname}|">호스트 닉네임</li>
            <li th:text="|주소 : ${sukso.suk_address}|"><i class="fa-regular fa-address-book"></i>숙소주소</li>
            <li th:text="|숙소번호 : ${member.mem_phone}|">숙소번호</li>
          </ul>		  
        </div>
      
			
      

		<div class="utf_box_widget opening-hours margin-top-35">
          <h3><i class="sl sl-icon-envelope-open"></i>Host에게 연락하기</h3>
          <form method="post" th:action="@{/msg/SendMsg}" onsubmit="return check3();">
            <div class="row">              
              <div class="col-md-12">                
                  <input name="msg_title" id="msg_title" type="text" placeholder="제목을 입력" value="" required> 
                  <input name="receiver_mem_id" type="hidden"  th:value="${sukso.mem_id}"> 
                  <input name="suk_num" type="hidden" th:value="${sukso.suk_num}">                
              </div>
			  <div class="col-md-12">
				  <textarea name="msg_contents" cols="40" rows="2" id="msg_contents" placeholder="Your Message" required></textarea>
			  </div>
            </div>            
            <input type="submit" class="submit button" id="submit" value="연락하기">
          </form>
        </div>
		</div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div id="bottom_backto_top"><a href="#"></a></div>
</div>

<!-- Scripts --> 
<script src="../scripts/jquery-3.4.1.min.js"></script>
	<script src="../scripts/chosen.min.js"></script>
	<script src="../scripts/slick.min.js"></script>
	<script src="../scripts/rangeslider.min.js"></script>
	<script src="../scripts/magnific-popup.min.js"></script>
	<script src="../scripts/jquery-ui.min.js"></script>
	<script src="../scripts/mmenu.js"></script>
	<script src="../scripts/tooltips.min.js"></script>
	<script src="../scripts/color_switcher.js"></script>
	<script src="../scripts/jquery_custom.js"></script>


<script src="../scripts/infobox.min.js"></script> 
<script src="../scripts/markerclusterer.js"></script> 
<script src="../scripts/maps.js"></script>
<link href="../css/datedropper.css" rel="stylesheet" type="text/css">
<script src="../scripts/datedropper.js"></script> 
<script src="../scripts/quantityButtons.js"></script>
<script src="../scripts/moment.min.js"></script>
<script src="../scripts/daterangepicker.js"></script>

<script>
$(function() {
	$('#date-picker').daterangepicker({
		"opens": "left",
		// singleDatePicker: true,
		isInvalidDate: function(date) {
			var disabled_start = moment('09/02/2018', 'DD/MM/YYYY');
			var disabled_end = moment('06/09/2018', 'DD/MM/YYYY');
		return date.isAfter(disabled_start) && date.isBefore(disabled_end);
		}
	}, function(start, end, label) {
	    $('#res_resdate').val(start.format('YYYY-MM-DD'));
	    $('#res_outdate').val(end.format('YYYY-MM-DD'));
	  });
});

$('#date-picker').on('showCalendar.daterangepicker', function(ev, picker) {
	$('.daterangepicker').addClass('calendar-animated');
});
$('#date-picker').on('show.daterangepicker', function(ev, picker) {
	$('.daterangepicker').addClass('calendar-visible');
	$('.daterangepicker').removeClass('calendar-hidden');
});
$('#date-picker').on('hide.daterangepicker', function(ev, picker) {
	$('.daterangepicker').removeClass('calendar-visible');
	$('.daterangepicker').addClass('calendar-hidden');
});

function close_panel_dropdown() {
$('.panel-dropdown').removeClass("active");
	$('.fs-inner-container.content').removeClass("faded-out");
}
$('.panel-dropdown a').on('click', function(e) {
	if ($(this).parent().is(".active")) {
		close_panel_dropdown();
	} else {
		close_panel_dropdown();
		$(this).parent().addClass('active');
		$('.fs-inner-container.content').addClass("faded-out");
	}
	e.preventDefault();
});
$('.panel-buttons button').on('click', function(e) {
	$('.panel-dropdown').removeClass('active');
	$('.fs-inner-container.content').removeClass("faded-out");
});
var mouse_is_inside = false;
$('.panel-dropdown').hover(function() {
	mouse_is_inside = true;
}, function() {
	mouse_is_inside = false;
});
$("body").mouseup(function() {
	if (!mouse_is_inside) close_panel_dropdown();
});
</script>
</body>
</html>